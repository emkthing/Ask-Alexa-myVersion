definition(
	name: "Appon",
	namespace: "Tok",
	author: "me",
	description: "Turns on and off a collection of lights based on the state of a specific switch.",
	category: "Convenience",
	iconUrl: "https://s3.amazonaws.com/smartapp-icons/Meta/light_outlet.png",
	iconX2Url: "https://s3.amazonaws.com/smartapp-icons/Meta/light_outlet@2x.png"
)

preferences {
	section("When this switch is turned on or off") {
		input "master", "capability.switch", title: "Where?"
	}
	section("Turn on or off all of these switches as well") {
		input "switches", "capability.switch", multiple: true, required: false
	}
	section("And turn off but not on all of these switches") {
		input "offSwitches", "capability.switch", multiple: true, required: false
	}
	section("And turn on but not off all of these switches") {
		input "onSwitches", "capability.switch", multiple: true, required: false
	} 
}

def onHandler() {
	onSwitches()?.on()
}

def offHandler() {
	offSwitches()?.off()
}

///////////////////////////////////////////////////////

def onMethod(){
	onHandler()
	def result ="I have turned the light on"
	sendOutput(result)
}
def offMethod(){
	offHandler()
	def result ="I have turned the light off"
	sendOutput(result)
}
